<!DOCTYPE html>
<html>
<head>
    <style>
    
    canvas {border:2px solid #000000;}
    
    </style>
    <meta charset="UTF-8"/>
</head>
<body>
    <h1>Ping Pong</h1>
    
<canvas id="mycanvas" width="800" height="600">
This browser doesn't support Canvas'</canvas>
</br>
  
<script>
        var posX=100;
        var posY=100;
        var radius=30;
        var canvasWidth=800;
        var canvasHeight=600;
        var stepx=1;
        var stepy=1;
        var c=document.getElementById("mycanvas");
        var ctx=c.getContext("2d");
        var post=canvasWidth/2;
        
        
        function drawBall(x,y){

                ctx.clearRect(posX-2*radius,posY-2*radius,posX+2*radius,posY+2*radius);
                ctx.beginPath();
                ctx.arc(x,y,radius,0,2*Math.PI);
                ctx.stroke();
            
        }
        

        function moveBall(){
            var count = 0;

            while (count<100){
                // Reflections
            
                if(posX+radius >= canvasWidth || posX-radius <= 0){
                    stepx = -stepx;
                }
                if(posY+radius >= canvasHeight || posY-radius <= 0){
                    stepy = -stepy;
                }
                posX += stepx;
                posY += stepy;
             
                
                setInterval(function(){ DrawBoll(); }, 10);
                DrawBoll(posX,posY);
                
                count++;
            }
        }
        
        function drawPaddleDown(x){
                ctx.clearRect(0, canvasHeight-51, canvasWidth, 51);
                ctx.beginPath();
                ctx.rect(x,canvasHeight-50,100,20);
                ctx.stroke();
                post = x;
        }
        function drawPaddleUp(x){
                ctx.clearRect(0, 0, canvasWidth, 51);
        
                ctx.beginPath();
                ctx.rect(x,30,100,20);
                ctx.stroke();
                post = x;
        }
        

    
    function onKeyDown(event){
        var ekc = event.keyCode;
        //alert(ekc);
     
        // Detect which key was pressed
        //First player paddel
        // 80 = P key, 76 = L key
        if( ekc == 80 ){
            posX += 10;
            drawPaddleDown(posX);
            return true;
            
        }else if(ekc == 76){
            posX -= 10;
            drawPaddleDown(posX);
     
            return true;
        }else if(ekc == 81){ // Second player paddel, 81 = Q key, 65 = A key
            posX += 10;
            drawPaddleUp(posX);
            return true;
            
        }else if(ekc == 65){
            posX -= 10;
            drawPaddleUp(posX);
     
            return true;

        }
   
}


    function check(event){
        alert(event.keyCode);
    }
    
    function init(){
        drawPaddleUp(canvasWidth/2-50);
        drawPaddleDown(canvasWidth/2-50);
        
    }
    
    init();

    window.addEventListener('keydown',this.onKeyDown,false);
 
    </script>
    
<button onclick="movePaddleLeft();">Left</button>
<button onclick="movePaddleRight();">Right</button>
</body>
    
</html>
